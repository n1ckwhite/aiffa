#  Динамические объявления: aria-live и aria-atomic

`aria-live` и `aria-atomic` управляют тем, как скринридер реагирует на изменения динамического контента: когда озвучивать (`off`/`polite`/`assertive`) и сколько читать (только изменения или весь элемент).

---

##  Короткое резюме
- **aria-live**: когда озвучивать изменения (`off` — никогда, `polite` — после текущей речи, `assertive` — немедленно).
- **aria-atomic**: что озвучивать (`false` — только изменения, `true` — весь элемент).
- **Что уметь**: выбирать приоритет по срочности, не перегружать пользователя частыми объявлениями. 

---

##  aria-live: когда озвучивать

### `off` (по умолчанию)
Скринридер игнорирует изменения.
```html
<div aria-live="off">Обновления здесь не озвучиваются.</div>
```

### `polite`
Озвучивает после завершения текущей речи. Для неспешных уведомлений.
```html
<div aria-live="polite">Ваш запрос обработан.</div>
```

### `assertive`
Озвучивает немедленно, прерывая текущую речь. Для срочных сообщений.
```html
<div aria-live="assertive">Ошибка: данные не сохранены!</div>
```

---

##  aria-atomic: что озвучивать

### `false` (по умолчанию)
Озвучивает только изменённую часть.
```html
<div aria-live="polite" aria-atomic="false">
  Статус: <span>Завершено</span>
</div>
```
При изменении `<span>` скринридер скажет только «Завершено».

### `true`
Озвучивает весь элемент при любом изменении.
```html
<div aria-live="polite" aria-atomic="true">
  Загрузка: <span>50%</span>
</div>
```
При изменении `<span>` скринридер скажет «Загрузка: 50%».

---

##  Практические сценарии

### Прогресс‑бар
```html
<div aria-live="polite" aria-atomic="true">Прогресс: 75%</div>
```
Каждое обновление озвучивается полностью: «Прогресс: 75%», «Прогресс: 80%».

### Критические ошибки
```html
<div aria-live="assertive">Ошибка: соединение потеряно.</div>
```
Немедленно прерывает речь и сообщает об ошибке.

### Частичные обновления
```html
<div aria-live="polite" aria-atomic="false">
  <p>Результат:</p>
  <span>Обработано 3 из 10 записей.</span>
</div>
```
Озвучивает только содержимое `<span>`: «Обработано 3 из 10 записей».

### Статусные сообщения (роль `status`)
```html
<div role="status" aria-live="polite">Сохранено</div>
```
`role="status"` автоматически подразумевает `aria-live="polite"`.

---

##  Практические правила
- Используйте `polite` для большинства уведомлений; `assertive` — только для критических.
- `aria-atomic="true"` — когда важен контекст целиком (прогресс, счётчики).
- `aria-atomic="false"` — для локальных изменений (статус одного элемента).
- Не злоупотребляйте частыми обновлениями — это перегружает пользователей.
- Тестируйте с VoiceOver/NVDA/JAWS: поведение может отличаться.

> Важно: `role="alert"` автоматически означает `aria-live="assertive"`, а `role="status"` — `aria-live="polite"`.

---

##  Итог
- `aria-live` определяет приоритет озвучивания; `aria-atomic` — объём.
- Выбирайте значения по срочности и контексту сообщения.
- Тестируйте реальное поведение с разными скринридерами. 

##  ЗАДАЧИ

Набор задач для практики `aria-live` и `aria-atomic`:

---

###  Задача 1: Статус сохранения
 Сделайте ненавязчивое уведомление о сохранении данных.

```html
<div id="save-status"></div>
```

<details>
<summary> Решение</summary>

```html
<div id="save-status" aria-live="polite">Сохранено</div>
```

Или через роль:
```html
<div id="save-status" role="status">Сохранено</div>
```

</details>

---

###  Задача 2: Критическая ошибка
 Немедленно сообщите о потере соединения.

```html
<div id="error-alert"></div>
```

<details>
<summary> Решение</summary>

```html
<div id="error-alert" aria-live="assertive">Ошибка: соединение потеряно!</div>
```

Или через роль:
```html
<div id="error-alert" role="alert">Ошибка: соединение потеряно!</div>
```

</details>

---

###  Задача 3: Прогресс с контекстом
 При обновлении процента озвучивайте весь текст «Загрузка: X%».

```html
<div aria-live="polite">Загрузка: <span id="percent">0%</span></div>
```

<details>
<summary> Решение</summary>

```html
<div aria-live="polite" aria-atomic="true">Загрузка: <span id="percent">0%</span></div>
```

</details>

---

###  Задача 4: Частичное обновление списка
 При добавлении элемента в список озвучивайте только новый элемент.

```html
<ul aria-live="polite">
  <li>Элемент 1</li>
  <li>Элемент 2</li>
</ul>
```

<details>
<summary> Решение</summary>

```html
<ul aria-live="polite" aria-atomic="false">
  <li>Элемент 1</li>
  <li>Элемент 2</li>
</ul>
```

</details>

---

##  Самопроверка

1. В чём разница между `aria-live="polite"` и `aria-live="assertive"`?

<details>
<summary> Вывод</summary>
`polite` ждёт окончания текущей речи; `assertive` прерывает её немедленно.
</details>

2. Когда использовать `aria-atomic="true"`?

<details>
<summary> Вывод</summary>
Когда важен контекст целиком (прогресс, счётчики), а не только изменённая часть.
</details>

3. Чем `role="status"` отличается от `aria-live="polite"`?

<details>
<summary> Вывод</summary>
`role="status"` автоматически подразумевает `aria-live="polite"` и даёт семантический смысл.
</details>

---

 Эти задачи помогают закрепить: выбор приоритета озвучивания, управление объёмом объявлений и создание удобных динамических уведомлений для пользователей AT.

---
