#  Персонализация скринридеров: настройки под пользователя

Скринридеры можно настроить под индивидуальные потребности: скорость речи, детализация, горячие клавиши, языки, визуальная обратная связь. Правильная персонализация повышает эффективность работы и комфорт пользователя.

---

##  Короткое резюме
- **Голосовые настройки**: скорость, тон, язык, синтезатор речи.
- **Интерфейс**: горячие клавиши, детализация, области навигации.
- **Пользовательский опыт**: профили для новичков vs экспертов.
- **Что уметь**: понимать потребности пользователей, учитывать персонализацию при разработке. 

---

##  Настройки голосового синтезатора

### Скорость речи
**Новички**: 150-200 слов/мин
**Эксперты**: 300-500+ слов/мин

```
Медленно  ←→ Быстро
150 wpm   |   500+ wpm
Обучение  |   Продуктивность
```

### Выбор голоса и языка
```html
<!-- Разметка помогает SR выбрать правильный голос -->
<html lang="ru">
  <p>Русский текст</p>
  <p lang="en">English text</p>
  <p lang="de">Deutscher Text</p>
</html>
```

**Настройки пользователя:**
- Мужской/женский голос
- Региональные акценты
- Высота и тембр
- Автопереключение языков

### Пунктуация и символы
```
Уровень 0: Только основная пунктуация
Уровень 1: + запятые, точки
Уровень 2: + скобки, кавычки  
Уровень 3: Все символы
```

---

##  Уровни детализации

### Для новичков (максимальная информация)
```html
<button aria-expanded="false" aria-controls="menu">
  Меню
</button>
```
**SR читает**: «Кнопка Меню свёрнуто имеет всплывающее меню»

### Для экспертов (минимальная информация)
**SR читает**: «Меню кнопка»

### Настройка объявлений
```
 Роли элементов (button, link, heading)
 Состояния (expanded, selected, checked)
 Описания (aria-describedby) — по выбору
 Подсказки (title) — отключить для экспертов
```

---

##  Персонализация горячих клавиш

### Стандартные vs кастомные
```
Стандартные NVDA:
H = заголовки
L = ссылки
F = формы

Кастомные (пример):
Ctrl+1 = заголовки h1
Ctrl+2 = заголовки h2
Alt+L = внешние ссылки
```

### Профили клавиш по задачам
```
Веб-сёрфинг:
- Активна буквенная навигация
- Быстрые переходы по элементам

Работа с документами:
- Навигация по абзацам
- Чтение по предложениям

Программирование:
- Навигация по отступам
- Чтение символов и пунктуации
```

---

##  Настройки для разных типов пользователей

### Новички
```
Скорость речи: 150-200 wpm
Детализация: Максимальная
Подсказки: Включены
Горячие клавиши: Базовый набор (Tab, H, L, F)
Обратная связь: Звуковые сигналы при ошибках
```

### Эксперты
```
Скорость речи: 400+ wpm
Детализация: Минимальная
Подсказки: Отключены
Горячие клавиши: Полный набор + кастомные
Обратная связь: Только критичные уведомления
```

### Пользователи с когнитивными особенностями
```
Скорость речи: 100-150 wpm
Детализация: Средняя, простые термины
Паузы: Увеличенные между элементами
Повторы: Автоматические при важной информации
Язык: Упрощённые описания
```

---

##  Мультиязычные настройки

### Автопереключение голосов
```html
<!-- SR автоматически переключает голос -->
<p>Добро пожаловать на сайт!</p>
<p lang="en">Welcome to our website!</p>
<p lang="fr">Bienvenue sur notre site!</p>
```

### Настройка языковых профилей
```
Русский: Женский голос, 250 wpm
English: Мужской голос, 300 wpm  
Deutsch: Женский голос, 200 wpm
```

---

##  Визуальная обратная связь

### Для пользователей с остаточным зрением
```css
/* Настройки фокуса под пользователя */
.sr-focus-high-contrast {
  outline: 5px solid yellow !important;
  background: black !important;
  color: white !important;
}

.sr-focus-large {
  outline: 8px solid #ff0000 !important;
  outline-offset: 4px !important;
}
```

### Синхронизация с увеличителями экрана
```
ZoomText + JAWS:
- Автоматическое следование фокуса
- Увеличение области вокруг курсора
- Контрастные схемы
```

---

##  Профили и сценарии использования

### Рабочие профили
```
Офисная работа:
- Быстрая навигация по документам
- Минимальная детализация
- Фокус на продуктивности

Обучение:
- Подробные описания
- Медленная речь
- Максимальная поддержка

Развлечения:
- Средняя скорость
- Эмоциональные голоса
- Музыкальные уведомления
```

### Адаптация под контент
```html
<!-- Для технической документации -->
<div data-sr-profile="technical">
  <code>function calculateSum(a, b) { return a + b; }</code>
</div>

<!-- Для художественного текста -->
<div data-sr-profile="literature">
  <p>В тот день небо было особенно синим...</p>
</div>
```

---

##  Специальные потребности

### Слепоглухие пользователи
```
Брайлевский дисплей:
- 40/80 символов на строку
- Тактильная навигация
- Сокращённый брайль vs полный

Вибрационная обратная связь:
- Различные паттерны для разных элементов
- Интенсивность вибрации
```

### Моторные ограничения
```
Альтернативный ввод:
- Переключатели (switch control)
- Голосовое управление
- Движения глаз
- Одна рука/один палец

Настройки времени:
- Увеличенные задержки
- Повторы команд
- Подтверждения действий
```

---

##  Рекомендации для разработчиков

### Поддержка персонализации в коде
```html
<!-- Метаданные для настройки SR -->
<div 
  data-sr-importance="high"
  data-sr-read-speed="slow"
  aria-live="polite">
  Важное уведомление
</div>

<!-- Альтернативные описания по уровню детализации -->
<button 
  aria-label="Удалить"
  data-sr-verbose="Удалить выбранный элемент из списка">
  
</button>
```

### CSS для визуальной персонализации
```css
/* Поддержка пользовательских настроек */
@media (prefers-reduced-motion: reduce) {
  .sr-focus { transition: none; }
}

@media (prefers-contrast: high) {
  .sr-focus { 
    outline: 3px solid;
    background: highlight;
    color: highlighttext;
  }
}

/* Кастомные свойства для SR */
:root {
  --sr-focus-color: var(--user-focus-color, #007acc);
  --sr-focus-width: var(--user-focus-width, 2px);
}
```

### JavaScript для адаптации
```js
// Определение настроек пользователя
function detectSRPreferences() {
  return {
    reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,
    highContrast: window.matchMedia('(prefers-contrast: high)').matches,
    reducedData: navigator.connection?.saveData || false,
    // Пользовательские настройки из localStorage
    speechRate: localStorage.getItem('sr-speech-rate') || 'normal',
    verbosity: localStorage.getItem('sr-verbosity') || 'standard'
  };
}

// Адаптация контента под настройки
function adaptForSR(preferences) {
  if (preferences.verbosity === 'minimal') {
    // Упрощённые aria-label
    document.querySelectorAll('[data-sr-minimal]').forEach(el => {
      el.setAttribute('aria-label', el.dataset.srMinimal);
    });
  }
}
```

---

##  Практические правила
- **Учитывайте разные уровни опыта** — от новичков до экспертов
- **Предоставляйте альтернативы** — краткие и подробные описания
- **Поддерживайте стандарты** — `lang`, `aria-*`, семантические теги
- **Тестируйте с разными настройками** — скорость, детализация, языки
- **Документируйте особенности** — как ваш сайт работает с персонализацией

> Важно: персонализация SR — это не только настройки программы, но и адаптивность контента.

---

##  Итог
- Скринридеры высоко настраиваемы под индивидуальные потребности.
- Разработчики могут поддерживать персонализацию через семантику и метаданные.
- Тестирование с разными настройками улучшает доступность для всех. 

##  ЗАДАЧИ

Набор задач для практики `персонализации SR`:

---

###  Задача 1: Адаптивные описания
 Создайте кнопку с кратким и подробным описанием для разных уровней детализации.

```html
<button></button>
```

<details>
<summary> Решение</summary>

```html
<button 
  aria-label="Удалить"
  data-sr-verbose="Удалить выбранный элемент из списка навсегда"
  data-sr-minimal="Удалить">
  
</button>

<script>
// Адаптация под настройки пользователя
const verbosity = localStorage.getItem('sr-verbosity') || 'standard';
const button = document.querySelector('button');

if (verbosity === 'verbose') {
  button.setAttribute('aria-label', button.dataset.srVerbose);
} else if (verbosity === 'minimal') {
  button.setAttribute('aria-label', button.dataset.srMinimal);
}
</script>
```

</details>

---

###  Задача 2: Мультиязычная поддержка
 Создайте контент, который корректно работает с автопереключением голосов.

```html
<div>
  Добро пожаловать! Welcome! Willkommen!
</div>
```

<details>
<summary> Решение</summary>

```html
<div>
  <span lang="ru">Добро пожаловать!</span>
  <span lang="en">Welcome!</span>
  <span lang="de">Willkommen!</span>
</div>
```

</details>

---

###  Задача 3: Определение настроек пользователя
 Создайте функцию для определения предпочтений пользователя SR.

```js
function getUserSRPreferences() {
  // Ваш код
}
```

<details>
<summary> Решение</summary>

```js
function getUserSRPreferences() {
  return {
    // Системные предпочтения
    reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches,
    highContrast: window.matchMedia('(prefers-contrast: high)').matches,
    
    // Пользовательские настройки (из localStorage)
    speechRate: localStorage.getItem('sr-speech-rate') || 'normal',
    verbosity: localStorage.getItem('sr-verbosity') || 'standard',
    language: localStorage.getItem('sr-language') || document.documentElement.lang || 'en',
    
    // Определение возможного использования SR
    likelyUsingSR: window.navigator.userAgent.includes('NVDA') || 
                   window.speechSynthesis?.speaking ||
                   document.activeElement?.matches(':focus-visible'),
    
    // Браузерные возможности
    speechSynthesis: 'speechSynthesis' in window,
    brailleDisplay: 'navigator' in window && 'braille' in navigator
  };
}
```

</details>

---

##  Самопроверка

1. Чем отличаются настройки SR для новичков и экспертов?

<details>
<summary> Вывод</summary>
Новички: медленная речь, максимальная детализация, подсказки. Эксперты: быстрая речь, минимальная детализация, расширенные горячие клавиши.
</details>

2. Как HTML может поддерживать мультиязычную персонализацию?

<details>
<summary> Вывод</summary>
Через атрибут `lang` на элементах — SR автоматически переключает голоса для разных языков.
</details>

3. Что такое уровни детализации в SR?

<details>
<summary> Вывод</summary>
Количество информации, которую SR сообщает: от минимальной (только текст) до максимальной (роли, состояния, описания).
</details>

---

 Эти задачи помогают закрепить: создание адаптивного контента, поддержку персонализации и понимание разнообразных потребностей пользователей скринридеров.

---
