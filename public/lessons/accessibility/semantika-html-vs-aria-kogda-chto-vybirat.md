#  Семантика HTML vs ARIA: когда что выбирать

Семантические HTML‑теги — первый выбор для доступности. ARIA — дополнение, когда нативного элемента нет или его недостаточно. Правило: сначала HTML, потом ARIA при необходимости.

---

##  Короткое резюме
- **Семантика HTML**: готовая доступность, SEO, простота, браузерная поддержка.
- **ARIA**: расширение возможностей, кастомные виджеты, динамические состояния.
- **Что уметь**: выбирать нативный тег, дополнять ARIA только при нужде, не переопределять без причины. 

---

##  Когда использовать семантические HTML‑теги 

### Всегда сначала — нативный элемент
- **Готовая доступность**: клавиатура, фокус, роли, состояния из коробки.
- **SEO‑преимущества**: поисковики понимают структуру.
- **Браузерная поддержка**: стабильное поведение во всех AT.
- **Простота**: меньше кода, меньше ошибок.

### Примеры нативных решений
```html
<!-- Действие → button -->
<button type="button">Отправить</button>

<!-- Навигация → a[href] -->
<a href="/catalog">Каталог</a>

<!-- Ввод → input/textarea/select -->
<input type="email" required>

<!-- Структура → nav, main, article, aside -->
<nav>
  <ul>
    <li><a href="/">Главная</a></li>
  </ul>
</nav>

<!-- Данные → table -->
<table>
  <thead><tr><th>Товар</th><th>Цена</th></tr></thead>
  <tbody><tr><td>A</td><td>$10</td></tr></tbody>
</table>
```

---

##  Когда использовать ARIA 

### Только при реальной необходимости
- **Нет нативного аналога**: tabs, menu, tree, combobox, grid.
- **Нужно дополнить нативный элемент**: состояния, описания, связи.
- **Кастомные виджеты**: следуя WAI‑ARIA APG.
- **Динамические обновления**: `aria-live`, `aria-busy`.

### Примеры ARIA‑дополнений
```html
<!-- Disclosure: нативный + ARIA -->
<button aria-expanded="false" aria-controls="panel">Подробнее</button>
<div id="panel" hidden>Контент</div>

<!-- Связи и описания -->
<label for="pwd">Пароль</label>
<input id="pwd" type="password" aria-describedby="pwd-help">
<div id="pwd-help">Минимум 8 символов</div>

<!-- Кастомные вкладки (нет нативного аналога) -->
<div role="tablist">
  <button role="tab" aria-selected="true" aria-controls="p1">Вкладка 1</button>
</div>
<div role="tabpanel" id="p1">Контент 1</div>

<!-- Живые области -->
<div aria-live="polite" id="status"></div>
```

---

##  Принципы выбора

### 1) HTML‑first подход
```html
<!--  Хорошо: нативный элемент -->
<button onclick="save()">Сохранить</button>

<!--  Плохо: без причины усложняем -->
<div role="button" tabindex="0" onclick="save()">Сохранить</div>
```

### 2) ARIA как дополнение, не замена
```html
<!--  Хорошо: расширяем нативный -->
<button aria-expanded="false" aria-controls="menu">Меню</button>

<!--  Плохо: переопределяем роль -->
<button role="link" href="/page">Ссылка</button> <!-- Используйте <a>! -->
```

### 3) Следуйте ожиданиям пользователей
```html
<!--  Хорошо: действие = button -->
<button type="button">Открыть модалку</button>

<!--  Хорошо: переход = a[href] -->
<a href="/help">Справка</a>

<!--  Плохо: путаница ролей -->
<a onclick="openModal()">Открыть</a> <!-- Это действие, не переход! -->
```

---

##  Частые ситуации и решения

### Кнопка с иконкой
```html
<!-- Нативно -->
<button type="button">
  <img src="save.svg" alt=""> Сохранить
</button>

<!-- Или с aria-label -->
<button type="button" aria-label="Сохранить">
  <img src="save.svg" alt="">
</button>
```

### Кастомный виджет (когда нативного нет)
```html
<!-- Комбобокс: нет нативного аналога -->
<div role="combobox" aria-expanded="false" aria-haspopup="listbox">
  <input type="text" aria-autocomplete="list">
  <ul role="listbox" hidden>
    <li role="option">Вариант 1</li>
  </ul>
</div>
```

### Динамические состояния
```html
<!-- Кнопка‑переключатель -->
<button type="button" aria-pressed="false">Включить уведомления</button>

<!-- Статус операции -->
<div role="status" aria-live="polite">Сохранено</div>
```

---

##  Чек‑лист принятия решений
1. **Есть ли нативный HTML‑элемент?** → Используйте его.
2. **Нужны дополнительные состояния/связи?** → Добавьте `aria-*`.
3. **Создаёте кастомный виджет?** → Следуйте APG, реализуйте клавиатуру.
4. **Переопределяете нативную роль?** → Пересмотрите выбор тега.
5. **Тестируете с AT?** → Проверьте VoiceOver/NVDA/JAWS.

---

##  Практические правила
- **HTML‑first**: всегда начинайте с поиска нативного решения.
- **ARIA — точечно**: используйте для конкретных задач, не «на всякий случай».
- **Не дублируйте**: если HTML уже даёт нужную семантику, ARIA не нужна.
- **Синхронизируйте**: состояния ARIA должны отражать реальное UI.
- **Тестируйте**: код должен работать без JS и с выключенными стилями.

> Важно: «Первое правило ARIA: не используйте ARIA» — если есть нативный элемент с нужной семантикой.

---

##  Итог
- Семантические теги — основа доступного веба.
- ARIA — мощное дополнение для кастомных случаев.
- Выбирайте осознанно: простота и нативность лучше сложности. 

##  ЗАДАЧИ

Набор задач для практики выбора между HTML и ARIA:

---

###  Задача 1: Выбор тега для действия
 Элемент должен открывать модальное окно. Выберите правильный тег.

```html
<!-- Что выбрать? -->
<a href="#" onclick="openModal()">Открыть</a>
<!-- или -->
<button type="button" onclick="openModal()">Открыть</button>
```

<details>
<summary> Решение</summary>

```html
<button type="button" onclick="openModal()">Открыть</button>
```
Это действие, не навигация → используем `button`.

</details>

---

###  Задача 2: Дополнить нативный элемент
 Кнопка разворачивает панель. Добавьте нужные ARIA‑атрибуты.

```html
<button onclick="togglePanel()">Подробнее</button>
<div id="details" hidden>Детали...</div>
```

<details>
<summary> Решение</summary>

```html
<button aria-expanded="false" aria-controls="details" onclick="togglePanel()">Подробнее</button>
<div id="details" hidden>Детали...</div>
```

</details>

---

###  Задача 3: Исправить переопределение роли
 Исправьте неправильное использование ARIA.

```html
<button role="link" onclick="location.href='/page'">Перейти</button>
```

<details>
<summary> Решение</summary>

```html
<a href="/page">Перейти</a>
```
Для навигации используйте `<a>`, не переопределяйте роль кнопки.

</details>

---

###  Задача 4: Кастомный виджет
 Нужен переключатель (toggle). Нативного элемента нет. Реализуйте через ARIA.

```html
<div>Уведомления</div>
```

<details>
<summary> Решение</summary>

```html
<button type="button" role="switch" aria-checked="false" aria-labelledby="label">
  <span id="label">Уведомления</span>
</button>
```

</details>

---

##  Самопроверка

1. Когда стоит использовать `div role="button"` вместо `<button>`?

<details>
<summary> Вывод</summary>
Практически никогда. Только при жёстких ограничениях дизайна/архитектуры с полной реализацией поведения.
</details>

2. Нужно ли добавлять `role="button"` к элементу `<button>`?

<details>
<summary> Вывод</summary>
Нет. Нативный `<button>` уже имеет роль кнопки по умолчанию.
</details>

3. Когда ARIA обязательна?

<details>
<summary> Вывод</summary>
Когда нет нативного элемента для нужного паттерна (tabs, combobox) или нужно дополнить состояниями.
</details>

---

 Эти задачи помогают закрепить: приоритет нативных элементов, правильное дополнение ARIA и избежание ненужных переопределений ролей.

---
