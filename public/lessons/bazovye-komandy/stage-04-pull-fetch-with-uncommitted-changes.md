#  pull/fetch при незакоммиченных изменениях

##  Что произойдет, если у вас есть незакоммиченные изменения и вы выполните `git pull` или `git fetch`?

Работая с git, часто возникает ситуация, когда в рабочем каталоге есть изменения, которые ещё не были добавлены в индекс (`git add`) или закоммичены. Важно понимать, как поведут себя команды `git pull` и `git fetch` в такой ситуации.


##  TLDR

| Команда | Поведение при незакоммиченных изменениях |
| --- | --- |
| fetch | Безопасно: ничего не меняет в рабочем каталоге |
| pull  | Может запросить разрешение конфликтов или заблокироваться |

---

###  1. `git fetch`

* **Назначение**: Получить обновления из удалённого репозитория, не затрагивая вашу текущую рабочую ветку.
* **Что происходит:**
  - `git fetch` просто загружает новые коммиты, ветки и теги из удалённого репозитория.
  - Ваши незакоммиченные изменения в рабочем каталоге остаются без изменений.
  - Вы можете спокойно просмотреть, что изменилось в удалённом репозитории, и решить, когда и как интегрировать эти изменения.
* **Пример использования:**

```bash
git fetch origin
```

---

###  2. `git pull`

* **Назначение**: Получить и сразу объединить изменения из удалённого репозитория с вашей текущей веткой.
* **Что происходит:**
  - `git pull` сначала выполняет `git fetch`, а затем `git merge`.
  - Если ваши незакоммиченные изменения не конфликтуют с обновлениями из удалённого репозитория, слияние произойдёт автоматически.
  - Если изменения затрагивают одни и те же строки кода, возникнет конфликт, который нужно будет разрешить вручную.
  - В некоторых случаях git может не позволить выполнить слияние, пока вы не закоммитите или не уберёте свои изменения.
* **Пример использования:**

```bash
git pull origin main
```

---

##  Рекомендации

- Перед выполнением `git pull` рекомендуется:
  1. Закоммитить свои изменения (промежуточный коммит)
  2. Либо временно сохранить правки с помощью `git stash`
- `git fetch` безопаснее, если вы не хотите рисковать своими незакоммиченными изменениями — он не вносит изменений в рабочий каталог
- Всегда проверяйте статус репозитория перед синхронизацией

###  Примеры команд

```bash
# вариант с коммитом
git add .
git commit -m "Промежуточный коммит"
```

```bash
# вариант со stash
git stash
git pull origin main
git stash pop
```

```bash
# быстрый статус перед синком
git status
```

---

> Важно: `git pull` может быть заблокирован незакоммиченными изменениями. Используйте `git stash` для временного сохранения или сделайте промежуточный коммит.

##  Полезные ссылки

- git stash — https://git-scm.com/docs/git-stash
- Стратегии rebase — https://git-scm.com/docs/git-rebase

<details>
<summary>[РЕШЕНИЕ ПРОБЛЕМ] Конфликты после stash pop</summary>

- Разрешите конфликты в файлах, затем `git add` → `git rebase --continue` или завершите merge
- Если нужно отменить pop: `git stash apply` используйте вместо `pop`

</details>

---

##  Итог

- `git fetch` — безопасно для незакоммиченных изменений: просто загружает обновления, не затрагивая ваш код.
- `git pull` — может вызвать конфликты, если ваши изменения пересекаются с обновлениями из удалённого репозитория.
- Лучший подход — сохранять или коммитить свои изменения перед синхронизацией.

---