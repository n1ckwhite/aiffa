#  Этап 29 — Схлопывание родителя при float

Когда вы используете `float` для позиционирования дочерних элементов, они **выходят из нормального потока документа**. Это значит, что родительский контейнер больше не воспринимает их как часть своего содержимого — и, как следствие, **его высота схлопывается до нуля**, даже если внутри есть видимые элементы.

###  Визуально это выглядит так:

* Внутри родителя есть блоки.
* Они плавают (`float: left` или `float: right`).
* А родитель **не оборачивает** их.
* Границы родителя либо схлопываются, либо не отображаются вовсе.

---

#### Пример проблемы

```html
<div class="container">
  <div class="box" style="float: left; width: 100px; height: 100px; background: red;"></div>
  <div class="box" style="float: left; width: 100px; height: 100px; background: blue;"></div>
</div>
```

```css
.container {
  border: 1px solid black;
}
```

**Ожидаемое поведение:** контейнер обернёт красный и синий блоки и покажет границу.
**Реальность:** контейнер схлопнется — вы не увидите его границ, потому что он считает, что "внутри ничего нет".

---

##  Как решить проблему

Существует несколько надёжных решений. Выбор зависит от вашего подхода и структуры макета.

---

### 1. Добавить «clearfix» — класс для очистки обтекания

Это классика. Добавьте псевдоэлемент, который заставит родительский блок учитывать своих плавающих потомков:

```css
.clearfix::after {
  content: "";
  display: table;
  clear: both;
}
```

**Применение:**

```html
<div class="container clearfix">
  ...
</div>
```

**Плюсы**: кроссбраузерно, не нарушает поток, не требует дополнительных обёрток.

---

### 2. Использовать `overflow`

Простой способ — задать родителю `overflow: hidden;` или `overflow: auto;`.

```css
.container {
  overflow: hidden;
}
```

**Плюсы**:

* Эффективно.
* Учитывает плавающие блоки.

**Минусы**:

* Может скрыть часть контента, если у вас что-то выходит за границы (например, модальные окна или элементы с `position: absolute`).

---

### 3. Перейти на **Flexbox**

Flexbox сам по себе учитывает размеры своих детей. Это полностью решает проблему схлопывания.

```css
.container {
  display: flex;
}
```

**Плюсы**:

* Гибкость.
* Простое управление выравниванием.
* Автоматическое «оборачивание» контента.

---

### 4. Использовать **CSS Grid**

Как и Flexbox, Grid воспринимает все дочерние элементы и строит макет, учитывая их размеры.

```css
.container {
  display: grid;
}
```

**Плюсы**:

* Отлично подходит для сложных макетов.
* Надёжное поведение высоты контейнера.

---

### 5. Указать родителю `display: flow-root`

Создаёт новый форматирующий контекст и автоматически «оборачивает» плавающих потомков.

```css
.container { display: flow-root; }
```

---

##  Итог

Проблема схлопывания родительского блока — это типичный побочный эффект использования `float`. К счастью, она легко решается:

* С помощью **clearfix-класса**;
* Установкой `overflow`;
* Или же **отказом от `float` в пользу Flexbox или Grid** — более современных и мощных инструментов.

---

##  Полезные ссылки

- MDN — float: https://developer.mozilla.org/ru/docs/Web/CSS/float
- MDN — clear: https://developer.mozilla.org/ru/docs/Web/CSS/clear
- MDN — flow-root: https://developer.mozilla.org/ru/docs/Web/CSS/display#flow-root

---

> Осторожно:
> - `overflow: hidden` может скрыть всплывающие элементы/тени.
> - Не смешивайте много `float` с абсолютным позиционированием — поведение станет трудно предсказуемым.

---

> Подсказка:
> - Для новых макетов предпочитайте Flexbox/Grid.
> - Если остались legacy‑участки на `float`, внедряйте `clearfix` как утилиту и документируйте её использование.