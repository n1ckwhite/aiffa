#  Обратные ссылки (backreferences) в регулярных выражениях

##  Что такое обратные ссылки?

**Обратные ссылки** (backreferences) — это механизм регулярных выражений, позволяющий ссылаться на ранее захваченные группы внутри того же выражения. Это даёт возможность проверять, чтобы определённые части строки совпадали с теми же символами, что были найдены ранее.

---

##  Синтаксис обратных ссылок

- Для создания обратной ссылки используется символ `\` и номер группы: `\1`, `\2`, ...
- Нумерация групп идёт слева направо, начиная с 1.
- Группы определяются с помощью круглых скобок: `(...)`

---

##  Примеры использования обратных ссылок

### 1. Поиск повторяющихся слов
```javascript
const regex = /\b(\w+)\s+\1\b/gi;
const str = "Это это тест. Он не должен находить это слово. Test test!";
const matches = str.match(regex);
console.log(matches); // ["Это это", "Test test"]
```

### 2. Проверка паролей на два одинаковых символа подряд
```javascript
const passwordRegex = /^(?=.*([a-zA-Z0-9])\1).{6,}$/;
console.log(passwordRegex.test("abc123")); // false
console.log(passwordRegex.test("abc1123")); // true
```

### 3. Поиск парных HTML-тегов
```javascript
const html = "<b>bold</b> <i>italic</i> <b>broken</i>";
const tagRegex = /<([a-z]+)>.*?<\/\1>/gi;
console.log(html.match(tagRegex)); // ["<b>bold</b>", "<i>italic</i>"]
```

### 4. Проверка палиндрома из двух частей
```javascript
const palindromeRegex = /^(\w{2,})\1$/;
console.log(palindromeRegex.test("abcabc")); // true
console.log(palindromeRegex.test("abcdab")); // false
```

---

##  Как работают обратные ссылки?

1. **Группа** `( ... )` захватывает часть строки.
2. **Обратная ссылка** `\1` ссылается на содержимое первой группы, `\2` — на вторую и т.д.
3. При поиске или проверке регулярное выражение требует, чтобы часть строки, соответствующая обратной ссылке, была идентична содержимому соответствующей группы.

---

##  Особенности и ограничения

- Обратные ссылки работают только внутри одного регулярного выражения.
- Они не могут ссылаться на группы из других выражений или между разными вызовами.
- В шаблонах с флагом `g` (глобальный поиск) обратные ссылки работают для каждого совпадения отдельно.
- В некоторых случаях обратные ссылки могут замедлять выполнение сложных выражений.

---

##  Практические советы

1. Используйте обратные ссылки для поиска повторяющихся фрагментов, парных тегов, симметричных структур.
2. Для сложных шаблонов старайтесь не злоупотреблять обратными ссылками — это может повлиять на производительность.
3. Тестируйте выражения на разных примерах, чтобы убедиться в корректности работы.

---

##  Итог

- **Обратные ссылки** позволяют сравнивать части строки между собой прямо в регулярном выражении.
- Синтаксис: `\1`, `\2`, ... — ссылается на соответствующую захваченную группу.
- Это мощный инструмент для поиска повторов, парных конструкций и сложных шаблонов.

##  ЗАДАЧИ

Задачи по теме `обратные ссылки в регулярных выражениях`:

---

###  Задача 1: Найти все повторяющиеся слова
Дана строка: `'hello hello world test test test'`. Найдите все пары одинаковых слов подряд.
<details>
<summary> Решение</summary>

```javascript
const str = 'hello hello world test test test';
const regex = /\b(\w+)\s+\1\b/g;
console.log(str.match(regex)); // [ 'hello hello', 'test test' ]
```
</details>

---

###  Задача 2: Проверить парные HTML-теги
Проверьте, что строка содержит корректно закрытый HTML-тег (например, `<div>...</div>`).
<details>
<summary> Решение</summary>

```javascript
const str = '<div>content</div> <b>bold</b> <i>broken</b>';
const regex = /<([a-z]+)>.*?<\/\1>/gi;
console.log(str.match(regex)); // [ '<div>content</div>', '<b>bold</b>' ]
```
</details>

---

###  Задача 3: Найти повторяющиеся числа
Дана строка: `'12 12 34 56 56 78'`. Найдите все пары одинаковых чисел подряд.
<details>
<summary> Решение</summary>

```javascript
const str = '12 12 34 56 56 78';
const regex = /\b(\d+)\s+\1\b/g;
console.log(str.match(regex)); // [ '12 12', '56 56' ]
```
</details>

---

###  Задача 4: Проверить, что строка состоит из двух одинаковых частей
Проверьте, что строка вида `'abcabc'` состоит из двух одинаковых последовательностей.
<details>
<summary> Решение</summary>

```javascript
const str1 = 'abcabc';
const str2 = 'abcdab';
const regex = /^(\w{2,})\1$/;
console.log(regex.test(str1)); // true
console.log(regex.test(str2)); // false
```
</details>

---

###  Задача 5: Найти вложенные кавычки одного типа
Дана строка: `'"цитата \"вложенная\" цитата"'`. Найдите вложенные кавычки одного типа.
<details>
<summary> Решение</summary>

```javascript
const str = '"цитата \"вложенная\" цитата"';
const regex = /(["'])(.*?)\1/g;
console.log(str.match(regex)); // [ '"цитата \"вложенная\" цитата"' ]
```
</details>

---

 Освойте обратные ссылки — и ваши регулярные выражения станут ещё мощнее и гибче!

--- 