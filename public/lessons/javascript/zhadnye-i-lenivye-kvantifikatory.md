#  Жадные и ленивые квантификаторы в регулярных выражениях

##  Что такое жадные и ленивые квантификаторы?

**Квантификаторы** в регулярных выражениях определяют, сколько раз должен появиться элемент для соответствия шаблону. Они могут работать в двух режимах: **жадном** (greedy) и **ленивом** (lazy), что кардинально влияет на результат поиска.

---

##  Жадные квантификаторы (Greedy)

**Жадные квантификаторы** пытаются захватить как можно больше соответствующих символов. Они продолжают расширять диапазон совпадений до тех пор, пока это возможно, даже если в конце строки есть более короткое совпадение.

### Основные жадные квантификаторы:
- `*` — ноль или более вхождений
- `+` — одно или более вхождений  
- `?` — ноль или одно вхождение
- `{n}` — ровно n вхождений
- `{n,}` — n или более вхождений
- `{n,m}` — от n до m вхождений

### Примеры жадного поведения:

```javascript
// Жадный поиск между тегами
const html = '<div>Текст</div><span>Другой текст</span>';
const greedyRegex = /<.*>/;
console.log(html.match(greedyRegex)[0]); 
// '<div>Текст</div><span>Другой текст</span>' - захватывает всё!

// Жадный поиск в строке
const str = "abcabc";
const regex = /a.*c/; // Жадный квантификатор .*
console.log(str.match(regex)[0]); // "abcabc" - максимальное совпадение
```

---

##  Ленивые квантификаторы (Lazy)

**Ленивые квантификаторы** (нежадные) пытаются захватить как можно меньше символов для соответствия. Они останавливаются на первом подходящем совпадении.

### Как сделать квантификатор ленивым:
Добавьте знак вопроса (`?`) к обычному квантификатору:
- `*?` — ленивый ноль или более
- `+?` — ленивый один или более
- `??` — ленивый ноль или один
- `{n}?` — ленивый ровно n
- `{n,}?` — ленивый n или более
- `{n,m}?` — ленивый от n до m

### Примеры ленивого поведения:

```javascript
// Ленивый поиск между тегами
const html = '<div>Текст</div><span>Другой текст</span>';
const lazyRegex = /<.*?>/g;
console.log(html.match(lazyRegex)); 
// ['<div>', '</div>', '<span>', '</span>'] - минимальные совпадения

// Ленивый поиск в строке
const str = "abcabc";
const regex = /a.*?c/; // Ленивый квантификатор .*?
console.log(str.match(regex)[0]); // "abc" - минимальное совпадение
```

---

##  Сравнение жадного и ленивого поведения

### Пример 1: Поиск в HTML
```javascript
const html = '<div>Содержимое</div><p>Параграф</p>';

// Жадный поиск
const greedy = /<.*>/;
console.log(html.match(greedy)[0]); 
// '<div>Содержимое</div><p>Параграф</p>' - всё содержимое

// Ленивый поиск
const lazy = /<.*?>/g;
console.log(html.match(lazy)); 
// ['<div>', '</div>', '<p>', '</p>'] - только теги
```

### Пример 2: Поиск в тексте
```javascript
const text = "Слово1 и Слово2 и Слово3";

// Жадный поиск
const greedy = /Слово.*и/;
console.log(text.match(greedy)[0]); 
// "Слово1 и Слово2 и" - до последнего "и"

// Ленивый поиск  
const lazy = /Слово.*?и/;
console.log(text.match(lazy)[0]); 
// "Слово1 и" - до первого "и"
```

---

##  Когда использовать жадные, а когда ленивые квантификаторы?

### Используйте жадные квантификаторы когда:
- Нужно захватить максимальное количество символов
- Ищете последнее вхождение в строке
- Работаете с данными, где важно получить всё содержимое

### Используйте ленивые квантификаторы когда:
- Нужно найти минимальное совпадение
- Парсите HTML/XML теги
- Ищете первое подходящее вхождение
- Хотите избежать "захвата" лишнего содержимого

---

##  Практические советы

1. **Тестируйте на реальных данных** — поведение может отличаться от ожидаемого
2. **Используйте флаг `g`** для поиска всех совпадений
3. **Экранируйте специальные символы** при необходимости
4. **Начинайте с ленивых квантификаторов** — они обычно дают более предсказуемые результаты

---

##  Итог

- **Жадные квантификаторы** захватывают максимум символов, **ленивые** — минимум
- Добавление `?` превращает жадный квантификатор в ленивый
- Выбор типа зависит от конкретной задачи и желаемого результата
- Ленивые квантификаторы часто дают более предсказуемые результаты при парсинге

##  ЗАДАЧИ

Задачи по теме `жадные и ленивые квантификаторы`:

---

###  Задача 1: Извлечь содержимое HTML тегов
Дана строка: `'<div>Текст</div><span>Другой</span>'`. Извлеките содержимое всех тегов.
<details>
<summary> Решение</summary>

```javascript
const html = '<div>Текст</div><span>Другой</span>';
const regex = /<.*?>(.*?)<\/.*?>/g;
const matches = [...html.matchAll(regex)];
console.log(matches.map(match => match[1])); // ['Текст', 'Другой']
```
</details>

---

###  Задача 2: Найти первое и последнее слово в кавычках
Дана строка: `'Слово "первое" и "второе" и "третье"'`. Найдите первое и последнее слово в кавычках.
<details>
<summary> Решение</summary>

```javascript
const str = 'Слово "первое" и "второе" и "третье"';

// Первое слово (ленивый)
const first = str.match(/"([^"]*?)"/);
console.log(first[1]); // "первое"

// Последнее слово (жадный)
const last = str.match(/.*"([^"]*)"[^"]*$/);
console.log(last[1]); // "третье"
```
</details>

---

###  Задача 3: Извлечь email адреса из текста
Дана строка: `'Email: test@mail.com и другой: user@domain.org'`. Извлеките все email адреса.
<details>
<summary> Решение</summary>

```javascript
const text = 'Email: test@mail.com и другой: user@domain.org';
const regex = /[\w.-]+@[\w.-]+\.[a-z]{2,}/gi;
console.log(text.match(regex)); // ['test@mail.com', 'user@domain.org']
```
</details>

---

###  Задача 4: Найти числа в скобках
Дана строка: `'(123) и (456) и (789)'`. Найдите все числа в скобках.
<details>
<summary> Решение</summary>

```javascript
const str = '(123) и (456) и (789)';
const regex = /\((\d+)\)/g;
const matches = [...str.matchAll(regex)];
console.log(matches.map(match => match[1])); // ['123', '456', '789']
```
</details>

---

###  Задача 5: Проверить баланс скобок
Напишите регулярное выражение для проверки, что в строке правильно расставлены круглые скобки.
<details>
<summary> Решение</summary>

```javascript
const checkBrackets = (str) => {
  const regex = /^[^()]*((\([^()]*\)[^()]*)*)$/;
  return regex.test(str);
};

console.log(checkBrackets('(a + b) * c')); // true
console.log(checkBrackets('(a + b * c')); // false
```
</details>

---

###  Задача 6: Извлечь URL из текста
Дана строка: `'Сайт: https://example.com и https://test.org'`. Извлеките все URL.
<details>
<summary> Решение</summary>

```javascript
const text = 'Сайт: https://example.com и https://test.org';
const regex = /https?:\/\/[^\s]+/g;
console.log(text.match(regex)); // ['https://example.com', 'https://test.org']
```
</details>

---

 Освойте жадные и ленивые квантификаторы — и ваши регулярные выражения станут намного точнее и предсказуемее!

--- 