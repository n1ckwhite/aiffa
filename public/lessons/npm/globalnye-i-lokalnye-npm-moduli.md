#  Глобальные и локальные npm модули

В npm существует два типа установки модулей: **глобальная** и **локальная**. Эти подходы имеют разные цели и используются в различных сценариях разработки.

---

##  Установка локальных модулей

###  Команда и процесс

**Основная команда:**
```bash
npm install <package-name>
```

**Процесс установки:**
1. Модуль устанавливается в папку `node_modules` проекта
2. Обновляется файл `package.json` с новой зависимостью
3. Создается или обновляется `package-lock.json`

###  Местоположение и область видимости

**Местоположение:**
- Папка `./node_modules/` в корне проекта
- Каждый проект имеет свою папку `node_modules`

**Область видимости:**
- Доступны только в рамках конкретного проекта
- Используются через `require()` или `import`
- Не доступны из командной строки

###  Пример установки

```bash
# Установка express локально
npm install express

# Результат:
# - ./node_modules/express/
# - package.json обновлен
# - Доступен в коде: const express = require('express')
```

---

##  Установка глобальных модулей

###  Команда и процесс

**Основная команда:**
```bash
npm install -g <package-name>
```

**Процесс установки:**
1. Модуль устанавливается в глобальную директорию npm
2. Добавляется в системный PATH
3. Становится доступным из командной строки

###  Местоположение и область видимости

**Местоположение:**
- **Unix/Linux:** `/usr/local/lib/node_modules`
- **Windows:** `C:\Users\<username>\AppData\Roaming\npm\node_modules`
- **macOS:** `/usr/local/lib/node_modules`

**Область видимости:**
- Доступны из любого места в командной строке
- Работают независимо от текущего проекта
- Используются как CLI-инструменты

###  Пример установки

```bash
# Установка npm-check-updates глобально
npm install -g npm-check-updates

# Результат:
# - Доступен из любой директории
# - Команда: ncu
# - Проверка обновлений: ncu
```

---

##  Основные отличия

###  Сравнительная таблица

| Аспект | Локальные модули | Глобальные модули |
|--------|------------------|-------------------|
| **Команда установки** | `npm install <package>` | `npm install -g <package>` |
| **Местоположение** | `./node_modules/` | Системная директория npm |
| **Область видимости** | Только в проекте | Везде в системе |
| **Использование** | В коде приложения | В командной строке |
| **Зависимости** | Записываются в package.json | Не влияют на проект |
| **Примеры** | Express, React, Lodash | npm-check-updates, nodemon |

###  Когда использовать

**Локальная установка:**
- Библиотеки для вашего приложения
- Зависимости проекта
- Модули, используемые в коде

**Глобальная установка:**
- CLI-инструменты
- Утилиты разработки
- Инструменты сборки

---

##  Практические примеры

###  Локальные модули

**Установка библиотеки:**
```bash
npm install axios
```

**Использование в коде:**
```javascript
const axios = require('axios');
// или
import axios from 'axios';
```

###  Глобальные модули

**Установка CLI-инструмента:**
```bash
npm install -g nodemon
```

**Использование в терминале:**
```bash
nodemon app.js
```

---

##  Управление глобальными модулями

###  Просмотр глобальных модулей

**Список установленных:**
```bash
npm list -g --depth=0
```

**Проверка конкретного модуля:**
```bash
npm list -g <package-name>
```

###  Удаление глобальных модулей

**Команда удаления:**
```bash
npm uninstall -g <package-name>
```

**Пример:**
```bash
npm uninstall -g nodemon
```

---

##  Лучшие практики

###  Рекомендации по локальным модулям

**Управление зависимостями:**
- Всегда используйте локальную установку для зависимостей проекта
- Регулярно обновляйте зависимости
- Проверяйте совместимость версий
- Используйте точные версии для критичных зависимостей

###  Рекомендации по глобальным модулям

**Управление инструментами:**
- Устанавливайте глобально только CLI-инструменты
- Ограничивайте количество глобальных модулей
- Регулярно обновляйте глобальные инструменты
- Используйте npx для одноразовых команд

---

##  Проблемы и решения

###  Частые проблемы

**Права доступа (Unix/Linux):**
```bash
# Решение: использование sudo
sudo npm install -g <package-name>

# Альтернатива: изменение директории npm
npm config set prefix ~/.npm-global
```

**Конфликты версий:**
- Глобальные модули могут конфликтовать с локальными
- Решение: использование npx для одноразовых команд

###  Альтернативы

**npx для одноразовых команд:**
```bash
npx create-react-app my-app
npx nodemon app.js
```

**Преимущества npx:**
- Не требует глобальной установки
- Всегда использует последнюю версию
- Избегает конфликтов версий

---

##  Важные замечания

- **Локальные модули** - для зависимостей проекта
- **Глобальные модули** - для CLI-инструментов
- **npx** - для одноразовых команд
- **Права доступа** - важны для глобальной установки
- **Конфликты версий** - могут возникать между глобальными и локальными модулями

---

##  Итог

Выбор между локальной и глобальной установкой зависит от назначения модуля. Локальные модули используются в коде приложения, глобальные - как CLI-инструменты. Правильный выбор обеспечивает эффективную работу с зависимостями.

##  ЗАДАЧИ

Задачи по теме `Глобальные и локальные npm модули`:

###  Задача 1: Команда установки локального модуля

Какой командой устанавливается локальный npm модуль?

**Варианты:**
- npm install -g <package-name>
- npm install <package-name>
- npm global install <package-name>
- npm local install <package-name>

<details>
<summary> Решение</summary>

**Правильный ответ: npm install <package-name>**

**Причины:**
- Флаг -g используется для глобальной установки
- Локальная установка не требует дополнительных флагов
- Модуль устанавливается в папку node_modules проекта
- Зависимость добавляется в package.json

</details>

---

###  Задача 2: Местоположение локальных модулей

Где устанавливаются локальные npm модули?

**Варианты:**
- В системной директории npm
- В папке node_modules проекта
- В глобальной папке node_modules
- В папке .npm в домашней директории

<details>
<summary> Решение</summary>

**Правильный ответ: В папке node_modules проекта**

**Причины:**
- Каждый проект имеет свою папку node_modules
- Локальные модули доступны только в рамках проекта
- Системная директория используется для глобальных модулей
- Папка .npm используется для кэша npm

</details>

---

###  Задача 3: Область видимости глобальных модулей

Где доступны глобально установленные npm модули?

**Варианты:**
- Только в проекте, где установлены
- Только в командной строке
- Везде в системе через командную строку
- Только в папке node_modules

<details>
<summary> Решение</summary>

**Правильный ответ: Везде в системе через командную строку**

**Причины:**
- Глобальные модули добавляются в системный PATH
- Доступны из любой директории в терминале
- Работают независимо от текущего проекта
- Используются как CLI-инструменты

</details>

---

###  Задача 4: Назначение глобальных модулей

Для чего обычно используются глобально установленные npm модули?

**Варианты:**
- Библиотеки для использования в коде приложения
- CLI-инструменты и утилиты командной строки
- Зависимости проекта
- Модули для импорта в JavaScript

<details>
<summary> Решение</summary>

**Правильный ответ: CLI-инструменты и утилиты командной строки**

**Причины:**
- Глобальные модули доступны из командной строки
- Используются как инструменты разработки
- Примеры: nodemon, npm-check-updates, create-react-app
- Библиотеки для кода устанавливаются локально

</details>

---

 Освоив различия между глобальными и локальными модулями, вы сможете эффективно управлять зависимостями проекта!

---