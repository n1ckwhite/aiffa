#  Примеры увеличения версий в Semver

Примеры ситуаций, когда следует увеличить разные компоненты версии в Semantic Versioning.

---

##  PATCH (микроверсия) - 1.2.3 → 1.2.4

###  **Когда увеличивать**

Исправляются баги или производятся минимальные изменения, которые не добавляют новых функций и не нарушают обратную совместимость.

###  **Пример ситуации**

У вас есть версия `1.2.3`. Вы обнаружили ошибку в обработке данных (например, метод возвращает неправильный результат в редких случаях) и исправили её.

**Новая версия:** `1.2.4`

**Обоснование:** Это исправление не добавляет новый функционал и не ломает существующий.

###  **Типичные PATCH изменения**

* Исправление багов в существующих функциях
* Улучшение производительности без изменения API
* Исправление опечаток в документации
* Обновление зависимостей для безопасности
* Исправление проблем с совместимостью

---

##  MINOR (минорная версия) - 1.2.3 → 1.3.0

###  **Когда увеличивать**

Добавляется новая функциональность, которая совместима с предыдущими версиями.

###  **Пример ситуации**

У вас есть версия `1.2.3`. Вы добавили новый метод в API: `calculateDiscount()`, который не влияет на старые методы.

**Новая версия:** `1.3.0`

**Обоснование:** Новая функция доступна, но существующий функционал работает без изменений. Пользователи могут обновиться, не беспокоясь о совместимости.

###  **Типичные MINOR изменения**

* Добавление новых методов в классы
* Добавление новых функций в API
* Добавление новых опций конфигурации
* Расширение существующего функционала
* Добавление новых типов данных

---

##  MAJOR (мажорная версия) - 1.2.3 → 2.0.0

###  **Когда увеличивать**

Вносятся изменения, нарушающие обратную совместимость.

###  **Пример ситуации**

У вас есть версия `1.2.3`. Вы решили удалить устаревший метод `calculateTotal()`, потому что он заменён на новый `calculateSum()`. Также изменён формат данных, возвращаемых основным API.

**Новая версия:** `2.0.0`

**Обоснование:** Пользователи, обновляясь до новой версии, должны будут адаптировать свой код для работы с изменённым API.

###  **Типичные MAJOR изменения**

* Удаление функций или методов
* Изменение сигнатуры функций
* Изменение структуры данных
* Переименование классов или модулей
* Изменение поведения по умолчанию

---

##  Практические примеры

###  **PATCH примеры**

```javascript
// Версия 1.2.3 - баг
function calculateTotal(items) {
  return items.reduce((sum, item) => sum + item.price, 0); // баг: не учитывает налог
}

// Версия 1.2.4 - исправление
function calculateTotal(items) {
  return items.reduce((sum, item) => sum + item.price * 1.2, 0); // исправлено: добавлен налог
}
```

###  **MINOR примеры**

```javascript
// Версия 1.2.3
class Calculator {
  add(a, b) { return a + b; }
  subtract(a, b) { return a - b; }
}

// Версия 1.3.0 - добавлен новый метод
class Calculator {
  add(a, b) { return a + b; }
  subtract(a, b) { return a - b; }
  multiply(a, b) { return a * b; } // новый метод
}
```

###  **MAJOR примеры**

```javascript
// Версия 1.2.3
function processData(data, options) {
  return { result: data, status: 'success' };
}

// Версия 2.0.0 - breaking changes
function processData(data, config) { // options → config
  return { 
    processed: data, 
    status: 'completed', 
    timestamp: Date.now() 
  }; // изменена структура ответа
}
```

---

##  История версий в реальном проекте

###  **Пример развития библиотеки**

```
1.0.0 → 1.0.1 → 1.0.2 → 1.1.0 → 1.1.1 → 1.2.0 → 2.0.0
```

**Объяснение:**
* `1.0.0` - первая стабильная версия
* `1.0.1, 1.0.2` - исправления багов (PATCH)
* `1.1.0` - добавлены новые функции (MINOR)
* `1.1.1` - исправление в новой версии (PATCH)
* `1.2.0` - еще новые функции (MINOR)
* `2.0.0` - breaking changes (MAJOR)

---

##  Правила сброса версий

###  **При MAJOR изменении**

```
1.2.3 → 2.0.0
```

MINOR и PATCH сбрасываются в 0.

###  **При MINOR изменении**

```
1.2.3 → 1.3.0
```

PATCH сбрасывается в 0.

###  **При PATCH изменении**

```
1.2.3 → 1.2.4
```

Только последнее число увеличивается.

---

##  Итог

| Тип изменения | Пример | Описание |
|---------------|--------|----------|
| **PATCH** | `1.2.3 → 1.2.4` | Исправление ошибок без изменений функциональности |
| **MINOR** | `1.2.3 → 1.3.0` | Добавление нового функционала, совместимого с текущей версией |
| **MAJOR** | `1.2.3 → 2.0.0` | Изменения, которые ломают совместимость с предыдущей версией |

##  ЗАДАЧИ

Задачи по теме `Примеры увеличения версий в Semver`

---

###  Задача 1: Определить тип изменения версии

Определите, какой компонент версии нужно увеличить: исправлен баг в валидации email, добавлен новый метод для работы с массивами, удалён устаревший метод getData(), изменён формат ответа API, добавлен опциональный параметр в существующую функцию.

<details>
<summary> Решение</summary>

**Ответ:** Исправление бага → PATCH. Новый метод → MINOR. Удаление метода, изменение формата → MAJOR. Опциональный параметр → MINOR.

**Объяснение:** PATCH — исправления. MINOR — новые функции. MAJOR — breaking changes.

</details>

---

###  Задача 2: Выбрать правильную версию

Текущая версия 2.1.3. Выберите новую версию для: исправления критического бага, добавления новой функции, удаления устаревшего API, улучшения производительности без изменений API.

<details>
<summary> Решение</summary>

**Ответ:** Исправление бага → 2.1.4. Новая функция → 2.2.0. Удаление API → 3.0.0. Улучшение производительности → 2.1.4.

**Объяснение:** PATCH увеличивает последнее число, MINOR сбрасывает PATCH в 0, MAJOR сбрасывает MINOR и PATCH в 0.

</details>

---

 Понимание примеров увеличения версий помогает разработчикам правильно версионировать свои пакеты и пользователям понимать характер изменений.

---
