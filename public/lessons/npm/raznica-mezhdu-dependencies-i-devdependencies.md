#  Разница между dependencies и devDependencies

В файле `package.json` для проектов на Node.js есть два основных типа зависимостей: `dependencies` и `devDependencies`. Вот основные различия между ними:

---

##  dependencies

###  **Определение**

* Это зависимости, которые необходимы для работы вашего приложения в production (т.е. в рабочей среде). Они включаются в окончательную сборку приложения и требуются для его корректной работы.

###  **Пример использования**

* Если ваше приложение использует библиотеку для обработки запросов, например, `express`, то она должна быть указана в `dependencies`, поскольку без неё приложение не сможет функционировать.

###  **Установка**

* Зависимости из этого раздела будут установлены при выполнении команды `npm install`, и они будут включены в сборку вашего приложения.

```json
"dependencies": {
  "express": "^4.17.1",
  "mongoose": "^5.10.9",
  "lodash": "^4.17.21"
}
```

---

##  devDependencies

###  **Определение**

* Это зависимости, которые необходимы только во время разработки, тестирования или сборки проекта. Они не требуются для работы приложения в production.

###  **Пример использования**

* Если вы используете инструменты для тестирования, такие как `jest` или сборщики, такие как `webpack`, эти пакеты должны быть указаны в `devDependencies`, так как они нужны только в процессе разработки и не будут использоваться в производственной среде.

###  **Установка**

* При выполнении команды `npm install` зависимости из `devDependencies` также будут установлены, но если вы используете флаг `--production`, то эти зависимости не будут установлены, что позволяет уменьшить размер конечного продукта для production.

```json
"devDependencies": {
  "jest": "^26.6.0",
  "webpack": "^5.24.2",
  "eslint": "^7.32.0",
  "nodemon": "^2.0.12"
}
```

---

##  Пример полного package.json

Вот пример, чтобы проиллюстрировать разницу:

```json
{
  "name": "my-web-app",
  "version": "1.0.0",
  "description": "Веб-приложение на Node.js",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "test": "jest",
    "build": "webpack"
  },
  "dependencies": {
    "express": "^4.17.1",
    "mongoose": "^5.10.9"
  },
  "devDependencies": {
    "jest": "^26.6.0",
    "webpack": "^5.24.2"
  }
}
```

В этом примере:
* **`express` и `mongoose`** находятся в `dependencies`, потому что они необходимы для работы приложения.
* **`jest` и `webpack`** находятся в `devDependencies`, потому что они используются только во время разработки и тестирования, но не нужны в рабочей среде.

---

##  Команды установки

###  **Установка всех зависимостей**

```bash
npm install
```

Устанавливает как `dependencies`, так и `devDependencies`.

###  **Установка только production зависимостей**

```bash
npm install --production
```

Устанавливает только `dependencies`, пропуская `devDependencies`.

###  **Добавление в dependencies**

```bash
npm install express
```

Добавляет пакет в `dependencies` (по умолчанию).

###  **Добавление в devDependencies**

```bash
npm install jest --save-dev
```

Добавляет пакет в `devDependencies`.

---

##  Итог

| Тип | Назначение | Когда используется | Пример |
|-----|------------|-------------------|--------|
| `dependencies` | Продакшн зависимости | В рабочей среде | express, mongoose |
| `devDependencies` | Зависимости для разработки | Только при разработке | jest, webpack, eslint |

##  ЗАДАЧИ

Задачи по теме `Разница между dependencies и devDependencies`

---

###  Задача 1: Определить тип зависимости

Определите, в какую секцию (`dependencies` или `devDependencies`) нужно добавить следующие пакеты:

* `express` - веб-фреймворк для создания API
* `jest` - фреймворк для тестирования
* `nodemon` - автоматическая перезагрузка при разработке
* `mongoose` - ODM для MongoDB

<details>
<summary> Решение</summary>

```json
{
  "dependencies": {
    "express": "^4.17.1",
    "mongoose": "^5.10.9"
  },
  "devDependencies": {
    "jest": "^26.6.0",
    "nodemon": "^2.0.12"
  }
}
```

**Объяснение:**
* `express` и `mongoose` - продакшн зависимости, нужны для работы приложения
* `jest` и `nodemon` - зависимости для разработки, не нужны в production

</details>

---

###  Задача 2: Создать package.json с правильным разделением

Создайте package.json для веб-приложения с правильным разделением зависимостей:

* Продакшн: express, cors, dotenv
* Разработка: nodemon, jest, eslint

<details>
<summary> Решение</summary>

```json
{
  "name": "web-api",
  "version": "1.0.0",
  "description": "Веб API на Express",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "test": "jest"
  },
  "dependencies": {
    "express": "^4.17.1",
    "cors": "^2.8.5",
    "dotenv": "^10.0.0"
  },
  "devDependencies": {
    "nodemon": "^2.0.12",
    "jest": "^26.6.0",
    "eslint": "^7.32.0"
  }
}
```

**Объяснение:**
* `dependencies` содержат пакеты, необходимые для работы API
* `devDependencies` содержат инструменты для разработки и тестирования

</details>

---

 Правильное использование `dependencies` и `devDependencies` помогает поддерживать порядок в проекте и облегчает управление зависимостями. Это также позволяет избежать установки лишних пакетов в production-среде, что может улучшить производительность и безопасность приложения.

---
