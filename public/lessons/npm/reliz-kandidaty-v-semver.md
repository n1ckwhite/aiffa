#  Релиз-кандидаты в Semver

Релиз-кандидаты (release candidates) в семантическом версионировании (SemVer) относятся к категории предрелизных версий, которые позволяют тестировать новые изменения до их официального выпуска. Эти версии обозначаются специальными предрелизными тегами после номера версии.

---

##  1. Формат предрелизной версии

###  **Структура версии**

```
MAJOR.MINOR.PATCH-<тег>.<номер>
```

###  **Пример релиз-кандидата**

```
1.2.3-rc.1
```

* `1` — MAJOR-версия
* `2` — MINOR-версия
* `3` — PATCH-версия
* `rc.1` — предрелизный тег с указанием, что это первый релиз-кандидат

###  **Другие примеры**

```bash
1.2.0-alpha.1    # Альфа версия
1.2.0-beta.2     # Бета версия
1.2.0-rc.3       # Релиз-кандидат
1.2.3            # Стабильная версия
```

---

##  2. Типы предрелизных тегов

###  **alpha (альфа)**

* Самая ранняя версия для тестирования
* Обычно нестабильная
* Используется для внутреннего тестирования

```bash
1.2.0-alpha.1
1.2.0-alpha.2
```

###  **beta (бета)**

* Более стабильная версия с исправленными ошибками
* Ещё не готовая к релизу
* Используется для публичного тестирования

```bash
1.2.0-beta.1
1.2.0-beta.2
```

###  **rc (Release Candidate)**

* Почти готовая версия
* Предназначена для окончательного тестирования
* Последний этап перед стабильным релизом

```bash
1.2.0-rc.1
1.2.0-rc.2
1.2.0-rc.3
```

---

##  3. Сравнение предрелизных и стабильных версий

###  **Правила SemVer**

По правилам SemVer предрелизные версии считаются ниже соответствующей стабильной версии.

###  **Примеры сравнения**

```bash
# Предрелизные версии ниже стабильных
1.2.3-alpha.1 < 1.2.3
1.2.3-beta.1 < 1.2.3
1.2.3-rc.1 < 1.2.3

# Лексикографическое сравнение предрелизных версий
1.2.3-alpha.1 < 1.2.3-alpha.2 < 1.2.3-beta.1 < 1.2.3-rc.1 < 1.2.3
```

###  **Практический пример**

```json
{
  "dependencies": {
    "stable": "1.2.3",           // Стабильная версия
    "release-candidate": "1.2.3-rc.1",  // Релиз-кандидат
    "beta": "1.2.3-beta.2",      // Бета версия
    "alpha": "1.2.3-alpha.1"     // Альфа версия
  }
}
```

---

##  4. Использование релиз-кандидатов

###  **Тестирование новых изменений**

Разработчики и тестировщики могут проверять, как новая версия работает в реальных условиях.

```bash
# Установка релиз-кандидата для тестирования
npm install package@1.2.3-rc.1

# Тестирование в CI/CD
npm test --package=1.2.3-rc.1
```

###  **Обратная связь от пользователей**

Дают возможность сообществу или клиентам проверить версию до её официального релиза.

```bash
# Публикация релиз-кандидата
npm publish --tag rc

# Установка по тегу
npm install package@rc
```

###  **Подготовка к финальному релизу**

Позволяют проверить интеграцию с зависимостями и инфраструктурой.

```json
{
  "scripts": {
    "test:rc": "npm install package@rc && npm test",
    "deploy:rc": "npm run build && npm run test:rc"
  }
}
```

---

##  5. Обновления и переход к стабильной версии

###  **Изменение версий**

```bash
# Процесс развития версии
1.2.3-alpha.1 → 1.2.3-alpha.2 → 1.2.3-beta.1 → 1.2.3-rc.1 → 1.2.3-rc.2 → 1.2.3
```

###  **Совместимость**

Предрелизная версия сохраняет совместимость с финальной, если MAJOR и MINOR остаются неизменными.

```javascript
// Версия 1.2.3-rc.1
function processData(data) {
  return { result: data, status: 'processing' };
}

// Версия 1.2.3 (стабильная)
function processData(data) {
  return { result: data, status: 'completed' };
}

// Код пользователя работает с обеими версиями
const result = processData(data);
console.log(result.result); // работает в обеих версиях
```

---

##  6. Пример использования в системе зависимостей

###  **Явное указание предрелизной версии**

```json
{
  "dependencies": {
    "package": "1.2.3-rc.1"
  }
}
```

###  **Автоматические обновления**

Предрелизные версии не устанавливаются автоматически, если запрашивается только стабильная версия.

```json
{
  "dependencies": {
    "stable": "^1.2.3",        // Только стабильные версии
    "testing": "1.2.3-rc.1"    // Явно указанная предрелизная версия
  }
}
```

###  **Команды npm**

```bash
# Установка предрелизной версии
npm install package@1.2.3-rc.1

# Публикация предрелизной версии
npm publish --tag rc

# Просмотр доступных тегов
npm dist-tag ls package

# Установка по тегу
npm install package@rc
```

---

##  7. Практические сценарии

###  **Разработка новой функции**

```bash
# 1. Альфа версия для внутреннего тестирования
npm version prerelease --preid=alpha
# Результат: 1.2.3-alpha.1

# 2. Бета версия для публичного тестирования
npm version prerelease --preid=beta
# Результат: 1.2.3-beta.1

# 3. Релиз-кандидат для финального тестирования
npm version prerelease --preid=rc
# Результат: 1.2.3-rc.1

# 4. Стабильная версия
npm version patch
# Результат: 1.2.3
```

###  **CI/CD конфигурация**

```yaml
# GitHub Actions
name: Release Candidate
on:
  push:
    branches: [develop]

jobs:
  test-rc:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
      - run: npm ci
      - run: npm test
      - run: npm version prerelease --preid=rc
      - run: npm publish --tag rc
```

---

##  8. Рекомендации по использованию

###  **Когда использовать предрелизные версии**

* **alpha** — для внутреннего тестирования новых функций
* **beta** — для публичного тестирования с ограниченной аудиторией
* **rc** — для финального тестирования перед релизом

###  **Правила именования**

* Используйте последовательную нумерацию
* Документируйте изменения между версиями
* Предоставляйте четкие инструкции по установке

###  **Управление тегами**

```bash
# Создание тега для релиз-кандидата
git tag v1.2.3-rc.1

# Публикация тега
git push origin v1.2.3-rc.1

# Удаление устаревших тегов
git tag -d v1.2.3-rc.1
git push origin :refs/tags/v1.2.3-rc.1
```

---

##  Итог

| Тип версии | Назначение | Стабильность | Использование |
|------------|------------|--------------|---------------|
| **alpha** | Раннее тестирование | Низкая | Внутреннее |
| **beta** | Публичное тестирование | Средняя | Ограниченное |
| **rc** | Финальное тестирование | Высокая | Широкое |
| **stable** | Продакшн | Максимальная | Общее |

##  ЗАДАЧИ

Задачи по теме `Релиз-кандидаты в Semver`

---

###  Задача 1: Определить порядок версий

Расположите версии в порядке возрастания: 1.2.3, 1.2.3-rc.1, 1.2.3-alpha.1, 1.2.3-beta.1, 1.2.3-rc.2.

<details>
<summary> Решение</summary>

**Ответ:** 1.2.3-alpha.1 < 1.2.3-beta.1 < 1.2.3-rc.1 < 1.2.3-rc.2 < 1.2.3.

**Объяснение:** Предрелизные версии ниже стабильных, а между собой сравниваются лексикографически.

</details>

---

###  Задача 2: Выбрать тип предрелизной версии

Какой тип предрелизной версии выбрать для: внутреннего тестирования новой функции, публичного тестирования, финальной проверки перед релизом?

<details>
<summary> Решение</summary>

**Ответ:** Внутреннее тестирование → alpha, публичное тестирование → beta, финальная проверка → rc.

**Объяснение:** alpha для раннего тестирования, beta для публичного, rc для финального.

</details>

---

###  Задача 3: Определить совместимость

Будет ли код, написанный для версии 1.2.3-rc.1, работать с версией 1.2.3: да, нет, частично, зависит от изменений?

<details>
<summary> Решение</summary>

**Ответ:** Да, если MAJOR и MINOR версии не изменились, код должен работать.

**Объяснение:** Предрелизные версии сохраняют совместимость с финальной версией при одинаковых MAJOR и MINOR.

</details>

---

 Релиз-кандидаты в SemVer позволяют структурировать процесс тестирования и предоставлять ранний доступ к новым изменениям без нарушений стабильности основного продукта. Они следуют строгим правилам, обеспечивающим предсказуемость версий и управление зависимостями.

---
