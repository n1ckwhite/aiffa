#  HTTP статус-коды 200, 201, 204: различия и практика

Статус-коды HTTP **200**, **201** и **204** относятся к категории успешных ответов (2xx). Они указывают на то, что запрос клиента был успешно обработан, но каждый имеет своё специфическое значение и применяется в разных ситуациях.

##  200 OK — Успешный запрос с данными

### Особенности:
- **Назначение**: Запрос успешно выполнен, сервер возвращает ожидаемые данные.
- **Использование**: Широко используется для GET-запросов, когда клиент запрашивает данные.
- **Тело ответа**: Содержит запрашиваемые данные (HTML, JSON, XML и т.д.).

###  Пример: Получение данных пользователя
```javascript
fetch('/api/users/1')
  .then(response => {
    if (response.status === 200) {
      return response.json();
    }
  })
  .then(user => {
    console.log('User data:', user);
  });
```
- В этом случае сервер возвращает данные пользователя с кодом 200.

---

##  201 Created — Ресурс создан

### Особенности:
- **Назначение**: Запрос успешно выполнен, и в результате создан новый ресурс.
- **Использование**: Обычно для POST-запросов при создании новых ресурсов.
- **Заголовок Location**: Сервер должен вернуть URL нового ресурса в заголовке `Location`.
- **Тело ответа**: Может содержать данные созданного ресурса.

###  Пример: Создание нового пользователя
```javascript
fetch('/api/users', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name: 'John', email: 'john@example.com' })
})
  .then(response => {
    if (response.status === 201) {
      console.log('User created successfully');
      console.log('Location:', response.headers.get('Location'));
      return response.json();
    }
  })
  .then(newUser => {
    console.log('Created user:', newUser);
  });
```
- Здесь сервер создаёт нового пользователя и возвращает 201 с URL нового ресурса.

---

##  204 No Content — Успешный запрос без данных

### Особенности:
- **Назначение**: Запрос успешно выполнен, но нет данных для возврата.
- **Использование**: Для операций, где не нужно возвращать содержимое (DELETE, некоторые PUT).
- **Тело ответа**: Отсутствует или пустое.
- **Подтверждение**: Клиент получает подтверждение успешного выполнения операции.

###  Пример: Удаление ресурса
```javascript
fetch('/api/users/1', {
  method: 'DELETE'
})
  .then(response => {
    if (response.status === 204) {
      console.log('User deleted successfully');
      // Нет данных для обработки
    }
  });
```
- При успешном удалении сервер возвращает 204 без тела ответа.

---

##  Сравнительная таблица статус-кодов

| Критерий         | 200 OK                              | 201 Created                         | 204 No Content                      |
|------------------|--------------------------------------|--------------------------------------|--------------------------------------|
| Назначение       | Успешный запрос с данными            | Ресурс создан                       | Успешный запрос без данных          |
| Типичные методы  | GET, POST (с ответом)               | POST, PUT                           | DELETE, PUT                         |
| Тело ответа      | Содержит данные                     | Содержит созданный ресурс            | Отсутствует                         |
| Заголовок Location| Нет                                 | Да (URL нового ресурса)             | Нет                                 |
| Примеры          | Получение страницы, данных API       | Создание пользователя, поста         | Удаление записи, обновление статуса  |

---

##  Советы и типичные ошибки

- Не используйте 200 для создания ресурсов — для этого есть 201.
- Не используйте 204 для операций, где нужно вернуть данные.
- Всегда проверяйте заголовок `Location` при получении 201.
- 204 не означает ошибку — это нормальный успешный ответ.
- Для PUT-запросов с полной заменой ресурса может использоваться как 200, так и 204.

---

##  Итог

- **200 OK** — для успешных запросов с возвращением данных.
- **201 Created** — для успешного создания новых ресурсов.
- **204 No Content** — для успешных операций без возврата данных.
- Правильный выбор кода помогает клиенту правильно обработать ответ сервера.

##  ЗАДАЧИ

Задачи по теме `HTTP статус-коды 200, 201, 204`:

---

###  Задача 1: Определи код
Какой статус-код вернёт сервер при успешном получении списка товаров через GET-запрос?
<details>
<summary> Решение</summary>

**Ответ:**
200 OK — сервер успешно возвращает запрашиваемые данные.

</details>

---

###  Задача 2: Создание ресурса
Какой код вернёт сервер при успешном создании нового поста через POST-запрос?
<details>
<summary> Решение</summary>

**Ответ:**
201 Created — новый ресурс (пост) был успешно создан.

</details>

---

###  Задача 3: Удаление без данных
Какой код вернёт сервер при успешном удалении пользователя?
<details>
<summary> Решение</summary>

**Ответ:**
204 No Content — операция выполнена успешно, но возвращать нечего.

</details>

---

###  Задача 4: Обработка ответов
Напишите код для обработки разных статус-кодов в fetch-запросе:
<details>
<summary> Решение</summary>

```javascript
fetch('/api/users', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ name: 'Alice' })
})
  .then(response => {
    if (response.status === 200) {
      console.log('OK');
    } else if (response.status === 201) {
      console.log('Created');
    } else if (response.status === 204) {
      console.log('No Content');
    }
    return response.json();
  });
```

</details>

---

###  Задача 5: Заголовок Location
Что означает заголовок `Location` в ответе с кодом 201?
<details>
<summary> Решение</summary>

**Ответ:**
Заголовок `Location` содержит URL созданного ресурса, куда клиент может обратиться для получения данных о новом объекте.

</details>

---

###  Задача 6: PUT-запрос
Какой код может вернуть сервер при успешном PUT-запросе? Почему?
<details>
<summary> Решение</summary>

**Ответ:**
200 OK — если сервер возвращает обновлённый ресурс, или 204 No Content — если не возвращает данные (зависит от реализации API).

</details>

---

 Эти задачи помогут закрепить понимание различий между статус-кодами 200, 201, 204 и их правильное применение! 