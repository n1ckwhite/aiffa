# Задачи недели — формат Markdown (MD)

Этот каталог хранит файлы задач недели в формате Markdown. Каждая задача — это один `.md` файл с JSON‑фронтматтером и контентом. На основе этих данных интерфейс автоматически:
- строит карточки на странице `/weekly`;
- заполняет детальную страницу `/weekly/:id` (заголовок, описание, автор, совет, бейдж уровня, иконка/тег, пример);
- настраивает язык редактора кода и проверку решения (валидатор).

## Быстрый старт (шаблон)

Скопируйте шаблон, замените поля во фронтматтере и напишите тело задачи:

```markdown
---
{
  "id": "weekly-42",
  "title": "Короткий заголовок задачи",
  "description": "Короткое описание — что нужно сделать.",
  "author": { "name": "Имя Фамилия", "github": "username", "url": "https://github.com/username" },
  "tip": "Короткий совет автора (не обязателен).",
  "editorLanguage": "javascript",
  "tag": "JS"
}
---

### Задача

Опишите задание простым языком, без готового решения. Можно дать ориентир (структура, шаги, требования).

```example:javascript
// Краткий ориентир: перечислите ключевые требования в виде комментариев
// 1) ...
// 2) ...
// 3) ...
// Оставьте TODO вместо готовой реализации
```

```validator
// ВНИМАНИЕ: это JavaScript. Должна существовать функция validate(input)
// Возвращайте boolean или { ok: boolean, msg?: string }
function validate(input) {
  const s = String(input || '');
  const ok = s.includes('нужный_маркер');
  return ok || { ok: false, msg: 'Подсказка при неверном решении' };
}
```
```

## Поля фронтматтера

- `id` (string, обязательно): уникальный идентификатор задачи. Должен совпадать с маршрутом `/weekly/:id`.
- `title` (string, обязательно): заголовок задачи.
- `description` (string): краткое описание для карточки и детали.
- `author` (object):
  - `name` (string, обязательно)
  - `github` (string, опционально): username на GitHub (используется для аватара `https://avatars.githubusercontent.com/<username>`)
  - `url` (string, опционально): ссылка на автора. Если указана — используется для клика по имени.
  - `avatar` (string, опционально): URL аватара (если хотите переопределить стандартный GitHub‑аватар).
- `tip` (string): «Совет автора» под описанием задачи.
- `editorLanguage` (string, обязательно): язык подсветки и редактора кода. Можно указывать ЛЮБОЙ язык, поддерживаемый Monaco. Примеры:
  - `shell`, `bash`
  - `html`
  - `css`
  - `javascript`, `typescript`
  - `jsx`, `tsx`
  - `go`
- `level` (string): не используется в UI (если указан — игнорируется).
- `tag` (string): короткая метка на карточке/детали. Рекомендуемые значения и иконки:
  - `REACT` → иконка React
  - `REACTNATIVE` или `RN` → иконка React
  - `HTML` → иконка HTML5
  - `CSS` → иконка CSS3
  - `JS` → иконка JavaScript
  - `TS` или `TYPESCRIPT` → иконка TypeScript
  - `NODE` или `NODEJS` → иконка Node.js
  - `GIT` → иконка Git
  - `GO` → иконка Go
  - Если `tag` не указан, он выводится из `editorLanguage` (html → HTML, javascript → JS, typescript → TS, css → CSS, go → GO, jsx/tsx → REACT).
- `color` (string): не обязателен. По умолчанию цвет подбирается автоматически под `tag`/язык (REACT/REACTNATIVE → cyan, HTML → orange, CSS → blue, JS → yellow, TS → blue, NODE → green, GIT → red, GO → teal).
- `reward` (number): не требуется — в текущей версии всегда 50 XP.

## Блоки в Markdown

В теле `.md` поддерживаются специальные код‑блоки:

1) Пример (ориентир)

```md
```example:<язык>
// Это ориентир, а не готовое решение
// Заполняйте комментариями и TODO, без копипасты полной реализации
```
```

- `<язык>` — произвольная строка для подсветки (желательно совпадает с `editorLanguage`), напр. `html`, `javascript`, `go`, `shell`.
- Пример только показывает формат/ожидания. Не давайте полный рабочий код — оставляйте TODO.

2) Валидатор (проверка решения)

```md
```validator
function validate(input) {
  // input — текст из редактора пользователя
  // возвращайте true/false или объект { ok, msg }
  return input.includes('...');
}
```
```

- Это ВСЕГДА JavaScript, он выполняется в браузере (без импортов). Не используйте внешние библиотеки, сетевые запросы и т. п.
- Возвращайте:
  - `true` / `false`, или
  - `{ ok: boolean, msg?: string }` — если `ok=false`, текст `msg` покажется пользователю.
- Если валидатор не указан, используется резервная проверка (зависит от задачи).

## Рекомендации по задачам

- Не публикуйте готовое решение. В примерах оставляйте комментарии и TODO.
- Формулируйте чёткие критерии проверки, чтобы валидатор мог их определить по тексту.
- Поддерживайте понятность и краткость: заголовок до 60–70 символов, описание 1–2 строки.
- В `tip` давайте один практичный совет (без раскрытия решения).

## Как добавить новую задачу

1. Создайте файл `public/weekly/weekly-<номер>.md` по шаблону выше. Поле `id` внутри файла должно совпадать: `weekly-<номер>`.
2. Добавьте запись в манифест `src/weekly/manifest.ts`:
   ```ts
   export const weeklyManifest = [
     // ...
     { id: 'weekly-42', mdPath: '/weekly/weekly-42.md', tag: 'JS', color: 'yellow', icon: (() => null) as any, editorLanguage: 'javascript' },
   ];
   ```
   Примечание: `tag`, `color`, `editorLanguage` в манифесте используются как базовая информация. В реальном UI приоритет за данными из MD (`tag`, `color`, `editorLanguage`).
3. Запустите приложение и проверьте:
   - `/weekly` — карточка задачи появилась, теги/иконки/автор подхватились;
   - `/weekly/weekly-42` — заголовок, описание, совет автора, бейдж уровня, подсветка в редакторе, пример и валидация работают.

## Частые ошибки и как их избежать

- Ошибка: «не работает валидатор» — в блоке `validator` обязательно должна быть функция `validate(input)` и возвращаемое значение `boolean` или `{ ok, msg }`.
- Ошибка: «подсветка языка не та» — проверьте `editorLanguage` во фронтматтере. Для примера используйте одинаковый `<язык>` в блоке `example:<язык>`.
- Ошибка: «автор без ссылки/аватара» — укажите хотя бы `github` (username) или `url`. Аватар подтянется по `https://avatars.githubusercontent.com/<username>`.
- Ошибка: «уровень не отобразился» — проверьте, что значение одно из: `начальный` | `средний` | `продвинутый` (или допустимые англ. синонимы).
- Ошибка: «карточка не показывается» — убедитесь, что добавили запись в `src/weekly/manifest.ts` и путь `mdPath` корректен.

## Примеры

Посмотрите готовые задачи в этом каталоге:
- React (счётчик): `weekly-1.md`
- HTML (семантика): `weekly-2.md`
- Go (worker pool): `weekly-3.md`

Удачных задач и классных идей! &#x2728;


